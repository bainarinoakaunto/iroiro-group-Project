<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã˜ã‚ƒã‚“ã‘ã‚“ | ryo15542</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", system-ui, sans-serif;
      text-align: center;
      color: #fff;

      background-image: url("https://bainarinoakaunto.github.io/iroiro-group-Project/%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%20(1).png");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    header {
      padding: 20px;
      font-size: 28px;
      font-weight: bold;
      color: #000; /* ãƒ˜ãƒƒãƒ€ãƒ¼æ–‡å­—ã‚’é»’ã« */
    }

    .container {
      background: rgba(255,255,255,0.9);
      color: #333;
      max-width: 420px;
      margin: 40px auto;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .status { font-size: 18px; margin-bottom: 10px; }
    .remain { color: #666; margin-bottom: 20px; }

    button {
      background: #2a5298;
      color: #fff;
      border: none;
      padding: 15px 25px;
      font-size: 18px;
      border-radius: 30px;
      cursor: pointer;
      margin: 5px;
      transition: 0.2s;
    }

    button:hover:not(:disabled) { background: #1e3c72; }
    button:disabled { background: #aaa; cursor: not-allowed; }

    #result { font-size: 20px; font-weight: bold; margin-top: 20px; }
    #roulette { font-size: 36px; margin-top: 15px; font-weight: bold; }

    footer { margin-top: 30px; font-size: 13px; color: #333; }
  </style>
</head>

<body>
<header>âœŠâœŒâœ‹ ã˜ã‚ƒã‚“ã‘ã‚“</header>

<div class="container">
  <div class="status">å‹ã£ãŸå›æ•°ï¼š<span id="winCount">0</span></div>
  <div class="remain">ä»Šæ—¥ã®æ®‹ã‚Šå›æ•°ï¼š<span id="remain">6</span></div>

  <button onclick="play('ã‚°ãƒ¼')">âœŠ ã‚°ãƒ¼</button>
  <button onclick="play('ãƒãƒ§ã‚­')">âœŒ ãƒãƒ§ã‚­</button>
  <button onclick="play('ãƒ‘ãƒ¼')">âœ‹ ãƒ‘ãƒ¼</button>

  <div id="roulette">-</div>
  <div id="result"></div>
</div>

<footer>1æ—¥6å›ã¾ã§ï¼ˆã‚ã„ã“ã¯æ¶ˆè²»ã—ã¾ã›ã‚“ï¼‰</footer>

<script>
let winCount = Number(localStorage.getItem("jankenWinCount")) || 0;
const today = new Date().toISOString().slice(0,10);
const countKey = "jankenPlayCount_" + today;
let count = Number(localStorage.getItem(countKey)) || 0;

const hands = ["âœŠ ã‚°ãƒ¼", "âœŒ ãƒãƒ§ã‚­", "âœ‹ ãƒ‘ãƒ¼"];

update();

function update() {
  document.getElementById("winCount").textContent = winCount;
  document.getElementById("remain").textContent = 6 - count;
}

// ã˜ã‚ƒã‚“ã‘ã‚“ãƒ—ãƒ¬ã‚¤ï¼‹ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæ¼”å‡º
function play(myHand) {
  if(count >= 6) { alert("ä»Šæ—¥ã¯ã‚‚ã†6å›ãƒ—ãƒ¬ã‚¤ã—ã¾ã—ãŸ"); return; }

  const rouletteEl = document.getElementById("roulette");
  const resultEl = document.getElementById("result");

  // ãƒœã‚¿ãƒ³é€£æ‰“é˜²æ­¢
  const buttons = document.querySelectorAll("button");
  buttons.forEach(b => b.disabled = true);

  let i = 0;
  const interval = setInterval(() => {
    rouletteEl.textContent = hands[Math.floor(Math.random()*3)];
    i++;
    if(i>10){ // 10å›ã§ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆçµ‚äº†
      clearInterval(interval);

      // CPUã®æ‰‹ã‚’æ±ºå®š
      const cpu = hands[Math.floor(Math.random()*3)];
      rouletteEl.textContent = cpu;

      // å‹æ•—åˆ¤å®š
      let message = "";
      if(myHand === cpu.slice(2)) { // ã‚ã„ã“
        message = `ã‚ã„ã“ï¼ï¼ˆç›¸æ‰‹ï¼š${cpu.slice(2)}ï¼‰`;
      } else if(
        (myHand==="ã‚°ãƒ¼" && cpu.slice(2)==="ãƒãƒ§ã‚­") ||
        (myHand==="ãƒãƒ§ã‚­" && cpu.slice(2)==="ãƒ‘ãƒ¼") ||
        (myHand==="ãƒ‘ãƒ¼" && cpu.slice(2)==="ã‚°ãƒ¼")
      ){
        message = `å‹ã¡ï¼ğŸ‰ï¼ˆç›¸æ‰‹ï¼š${cpu.slice(2)}ï¼‰`;
        winCount++;
        count++;
      } else {
        message = `è² ã‘â€¦ï¼ˆç›¸æ‰‹ï¼š${cpu.slice(2)}ï¼‰`;
        count++;
      }

      localStorage.setItem("jankenWinCount", winCount);
      localStorage.setItem(countKey, count);

      resultEl.textContent = message;
      update();

      // ãƒœã‚¿ãƒ³å†åº¦æœ‰åŠ¹åŒ–
      buttons.forEach(b => b.disabled = false);
    }
  }, 100);
}
</script>

</body>
</html>

